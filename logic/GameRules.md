# 游戏规则

## 简介

- 这是一个4v4的PVP对称竞技游戏，双方在提供的地图内对战，同时以增加己方积分为目标，在规定的时长中，得到较多积分的队伍获胜。
- 与THUAI4不同，人物视野是全地图的，但攻击范围是有限的。

## 详细说明

### 人物

- 选手代码操控的角色。一个人物单位可以移动，攻击和捡拾地面上的道具。大小为一格的圆形物体。
- 人物有生命值，当生命值降至0，人物回到出生点，等待一段时间后返场。
- 人物有等级和攻击力，击杀其他人物后等级会提高，同时人物的生命值、攻击力等均会相应地提高。
- 人物api包括：
  - 攻击：指定攻击方向，发射的子弹会一直射到人物攻击范围处。如果飞行过程中碰撞到其他物体，或已达到人物攻击范围之外，子弹会爆炸，对爆炸范围内的角色造成伤害。
  - 移动：指定移动方向和移动时长。
  - 扔道具：指定移动方向和移动时长，扔出手中的道具
  - 扔宝石：指定移动方向、移动时长、扔出的宝石数，人物会扔出一个宝石块（即由多个宝石合成的块）。
  - 其他......

#### 技能

- 技能分为主动技能和被动技能；由技能决定角色的属性，属性包括HP、子弹类型、移动速度、攻击范围等。玩家在构造角色时，选择不同的技能，会使角色有不同的属性。

  - 人物的属性由技能决定
    - 被动技能决定：人物拥有的子弹类型、人物的攻击范围
    - 主动技能决定：人物移动速度、最大HP、换弹CD、最大持有子弹数、主动技能持续时间、主动技能CD

- 以下的参数之后在考虑平衡后再确定，现在的参数是随便定的。

- | 被动技能 \ 技能附带属性 | 子弹类型 | 人物攻击范围 |
  | ----------------------- | -------- | ------------ |
  | 脱战回血                | 原味子弹 | 5000         |
  | 自带吸血                | 激光子弹 | 1000         |
  | 离开草丛加速            | 快速子弹 | 10000        |

- | 主动技能 \ 技能附带属性 | 速度 | HP    | 换弹CD | 最大子弹数 | 技能CD | 技能持续时间 |
  | ----------------------- | ---- | ----- | ------ | ---------- | ------ | ------------ |
  | 隐身                    | 4000 | 5000  | 3000   | 5          | 30000  | 5000         |
  | 增加吸血率              | 3000 | 10000 | 3000   | 5          | 30000  | 10000        |
  | 加速                    | 3000 | 3600  | 3000   | 5          | 30000  | 3000         |
  | 子弹换成原子弹          | 2500 | 6000  | 3000   | 5          | 30000  | 2000         |

#### 子弹

- 目前，共有四种子弹。

- | 子弹类型 \ 子弹属性 | 爆炸区域                 | 爆炸半径               | 攻击力 | 速度  |
  | ------------------- | ------------------------ | ---------------------- | ------ | ----- |
  | 原子弹              | 圆                       | 15000                  | 9000   | 6000  |
  | 原味子弹            | 圆                       | 5000                   | 3000   | 6000  |
  | 快速子弹            | 圆                       | 2500                   | 600    | 12000 |
  | 激光子弹            | 沿子弹移动方向的矩形区域 | 矩形大小：1000 * 10000 | 3000   | 6000  |

### 道具

人物只能在同一时刻拥有一个非宝石道具。

#### buff

- 宝石，可以换分数，但没有其他作用。
- 护盾。
- 破盾。
- 加速。
- 减CD。
- 加攻击力。

#### debuff

- 减速。
- 减攻击力。

注：目前道具是继承THUAI4的，最后我们可能会删除一些冗余的道具。

### 得分机制

- 击杀：击杀人物，队伍会获得积分。人物被击杀后，身上的宝石会掉落。

  目前，**击杀人物会增加100分**。

- 使用宝石：使用宝石可以获得积分。一次性使用的宝石越多，获得的积分越多。（应该会有个算法，还在想什么算法更合理，目前是分段函数）。

  - 再解释一下，为使游戏更具策略性，宝石得分不是和使用的宝石数量呈线性关系，而是由一个函数确定的。

  - 目前，该函数是：

    宝石量num<10：增加5*num分数；

    10<=num<15：增加10*num分数；

    15<=num<20：增加20*num分数；
    
    20<=num<25：增加40*num分数；
    
    25<=num<30：增加80*num分数；
    
    num>=30：增加160*num分数。

### 地图

- 地图为50*50的方格。

#### 空地

- 处于空地上的人物全局可见。

#### 草丛

- 草丛中的物体在草丛外不可见。同时，在草丛中的人物有一定的视野，处于视野之内的人物无论是否位于草丛中均可见。

#### 宝石井

- 地图上有数个宝石井。位于地图上的固定位置，每隔固定时间在周围生成一个宝石。

#### 墙体

- 子弹不能穿过，人物也不能穿过，扔的道具也不能穿过的区域。

#### 出生点

- 人物复活的出生点，只能出生点的主人能进去。对于不是出生点主人的角色，出生点相当于一个墙。

